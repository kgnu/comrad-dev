/*
 * FullCalendar v1.4.2
 * http://arshaw.com/fullcalendar/
 *
 * Use fullcalendar.css for basic styling.
 * For event drag & drop, required jQuery UI draggable.
 * For event resizing, requires jQuery UI resizable.
 *
 * Copyright (c) 2009 Adam Shaw
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 *
 * Date: Wed Dec 2 22:03:57 2009 -0800
 *
 */
(function(z){var F=z.fullCalendar={};var e=F.views={};var B={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:true,allDayDefault:true,startParam:"start",endParam:"end",cacheParam:"_",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:false,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"&nbsp;&#9668;&nbsp;",next:"&nbsp;&#9658;&nbsp;",prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",today:"today",month:"month",week:"week",day:"day"},theme:false,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"}};var b={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}};var I=F.setDefaults=function(U){z.extend(true,B,U)};z.fn.fullCalendar=function(X){if(typeof X=="string"){var W=Array.prototype.slice.call(arguments,1),Y;this.each(function(){var Z=z.data(this,"fullCalendar")[X].apply(this,W);if(Y==l){Y=Z}});if(Y!=l){return Y}return this}var V=X.eventSources||[];delete X.eventSources;if(X.events){V.push(X.events);delete X.events}V.unshift([]);X=z.extend(true,{},B,(X.isRTL||X.isRTL==l&&B.isRTL)?b:{},X);var U=X.theme?"ui":"fc";this.each(function(){var ao=this,ab=z(this).addClass("fc"),aA,au=z("<div class='fc-content "+U+"-widget-content' style='position:relative'/>").appendTo(this),av;if(X.isRTL){ab.addClass("fc-rtl")}if(X.theme){ab.addClass("ui-widget")}var aB=new Date(),ar,an,ai={};if(X.year!=l&&X.year!=aB.getFullYear()){aB.setDate(1);aB.setMonth(0);aB.setFullYear(X.year)}if(X.month!=l&&X.month!=aB.getMonth()){aB.setDate(1);aB.setMonth(X.month)}if(X.date!=l){aB.setDate(X.date)}function aF(aG){if(aG!=ar){ae();if(an){if(an.eventsChanged){at(an);an.eventsChanged=false}an.element.hide()}if(ai[aG]){(an=ai[aG]).element.show();if(an.shown){an.shown()}}else{an=ai[aG]=z.fullCalendar.views[aG](z("<div class='fc-view fc-view-"+aG+"'/>").appendTo(au),X)}if(aw){aw.find("div.fc-button-"+ar).removeClass(U+"-state-active");aw.find("div.fc-button-"+aG).addClass(U+"-state-active")}an.name=ar=aG;aE();am()}}function aE(aI,aG){if((aA=ao.offsetWidth)!==0){if(!av){av=aD()}if(aI||!an.date||+an.date!=+aB){ae();an.render(aB,aI||0,av,function(aJ){if(!ac||an.visStart<ac||an.visEnd>ax){al(aJ)}else{aJ(aa)}});am();an.date=L(aB)}else{if(an.sizeDirty||aG){an.updateSize(av);an.rerenderEvents()}else{if(an.eventsDirty){an.clearEvents();an.renderEvents(aa)}}}if(aw){aw.find("h2.fc-header-title").html(an.title);var aH=new Date();if(aH>=an.start&&aH<an.end){aw.find("div.fc-button-today").addClass(U+"-state-disabled")}else{aw.find("div.fc-button-today").removeClass(U+"-state-disabled")}}an.sizeDirty=false;an.eventsDirty=false;an.trigger("viewDisplay",ao)}}function at(aG){z.each(ai,function(){if(this!=aG){this.eventsDirty=true}})}function ad(){an.clearEvents();an.renderEvents(aa);at(an)}function aq(aG){z.each(ai,function(){if(this!=aG){this.sizeDirty=true}})}function ak(aG){av=aD();if(aG){ae()}an.updateSize(av);if(aG){am()}aq(an);an.rerenderEvents(true)}function aD(){if(X.contentHeight){return X.contentHeight}else{if(X.height){return X.height-(aw?aw.height():0)-T(au)}}return aA/X.aspectRatio}var aa=[],ac,ax;function al(aJ){aa=[];ac=L(an.visStart);ax=L(an.visEnd);var aI=V.length,aG=function(){if(--aI==0){if(aJ){aJ(aa)}}},aH=0;for(;aH<V.length;aH++){ag(V[aH],aG)}}function ag(aL,aM){var aH=an.name,aK=L(aB),aJ=function(aN){if(aH==an.name&&+aK==+aB){for(var aO=0;aO<aN.length;aO++){y(aN[aO],X);aN[aO].source=aL}aa=aa.concat(aN);if(aM){aM(aN)}}},aG=function(aN){aJ(aN);aC()};if(typeof aL=="string"){var aI={};aI[X.startParam]=Math.round(ac.getTime()/1000);aI[X.endParam]=Math.round(ax.getTime()/1000);aI[X.cacheParam]=(new Date()).getTime();ah();z.getJSON(aL,aI,aG)}else{if(z.isFunction(aL)){ah();aL(L(ac),L(ax),aG)}else{aJ(aL)}}}var ay=0;function ah(){if(!ay++){an.trigger("loading",ao,true)}}function aC(){if(!--ay){an.trigger("loading",ao,false)}}var az={render:function(){aE(0,true)},changeView:aF,getView:function(){return an},getDate:function(){return aB},option:function(aG,aH){if(aH==l){return X[aG]}if(aG=="height"||aG=="contentHeight"||aG=="aspectRatio"){if(!af){X[aG]=aH;ak()}}},prev:function(){aE(-1)},next:function(){aE(1)},prevYear:function(){R(aB,-1);aE()},nextYear:function(){R(aB,1);aE()},today:function(){aB=new Date();aE()},gotoDate:function(aG,aI,aH){if(typeof aG=="object"){aB=L(aG)}else{if(aG!=l){aB.setFullYear(aG)}if(aI!=l){aB.setMonth(aI)}if(aH!=l){aB.setDate(aH)}}aE()},incrementDate:function(aH,aG,aI){if(aH!=l){R(aB,aH)}if(aG!=l){n(aB,aG)}if(aI!=l){v(aB,aI)}aE()},updateEvent:function(aK){var aI,aG=aa.length,aL,aJ=aK.start-aK._start,aH=aK.end?(aK.end-(aK._end||an.defaultEventEnd(aK))):0;for(aI=0;aI<aG;aI++){aL=aa[aI];if(aL._id==aK._id&&aL!=aK){aL.start=new Date(+aL.start+aJ);if(aK.end){if(aL.end){aL.end=new Date(+aL.end+aH)}else{aL.end=new Date(+an.defaultEventEnd(aL)+aH)}}else{aL.end=null}aL.title=aK.title;aL.url=aK.url;aL.allDay=aK.allDay;aL.className=aK.className;aL.editable=aK.editable;y(aL,X)}}y(aK,X);ad()},renderEvent:function(aH,aG){y(aH,X);if(!aH.source){if(aG){(aH.source=V[0]).push(aH)}aa.push(aH)}ad()},removeEvents:function(aH){if(!aH){aa=[];for(var aG=0;aG<V.length;aG++){if(typeof V[aG]=="object"){V[aG]=[]}}}else{if(!z.isFunction(aH)){var aI=aH+"";aH=function(aJ){return aJ._id==aI}}aa=z.grep(aa,aH,true);for(var aG=0;aG<V.length;aG++){if(typeof V[aG]=="object"){V[aG]=z.grep(V[aG],aH,true)}}}ad()},clientEvents:function(aG){if(z.isFunction(aG)){return z.grep(aa,aG)}else{if(aG){aG+="";return z.grep(aa,function(aH){return aH._id==aG})}}return aa},rerenderEvents:function(){an.rerenderEvents()},addEventSource:function(aG){V.push(aG);ag(aG,function(){ad()})},removeEventSource:function(aG){V=z.grep(V,function(aH){return aH!=aG});aa=z.grep(aa,function(aH){return aH.source!=aG});ad()},refetchEvents:function(){al(ad)}};z.data(this,"fullCalendar",az);var aw,ap=X.header;if(ap){aw=z("<table class='fc-header'/>").append(z("<tr/>").append(z("<td class='fc-header-left'/>").append(aj(ap.left))).append(z("<td class='fc-header-center'/>").append(aj(ap.center))).append(z("<td class='fc-header-right'/>").append(aj(ap.right)))).prependTo(ab)}function aj(aG){if(aG){var aH=z("<tr/>");z.each(aG.split(" "),function(aJ){if(aJ>0){aH.append("<td><span class='fc-header-space'/></td>")}var aI;z.each(this.split(","),function(aM,aL){if(aL=="title"){aH.append("<td><h2 class='fc-header-title'>&nbsp;</h2></td>");if(aI){aI.addClass(U+"-corner-right")}aI=null}else{var aK;if(az[aL]){aK=az[aL]}else{if(e[aL]){aK=function(){aN.removeClass(U+"-state-hover");aF(aL)}}}if(aK){if(aI){aI.addClass(U+"-no-right")}var aN,aO=X.theme?i(X.buttonIcons,aL):null,aP=i(X.buttonText,aL);if(aO){aN=z("<div class='fc-button-"+aL+" ui-state-default'><a><span class='ui-icon ui-icon-"+aO+"'/></a></div>")}else{if(aP){aN=z("<div class='fc-button-"+aL+" "+U+"-state-default'><a><span>"+aP+"</span></a></div>")}}if(aN){aN.click(function(){if(!aN.hasClass(U+"-state-disabled")){aK()}}).mousedown(function(){aN.not("."+U+"-state-active").not("."+U+"-state-disabled").addClass(U+"-state-down")}).mouseup(function(){aN.removeClass(U+"-state-down")}).hover(function(){aN.not("."+U+"-state-active").not("."+U+"-state-disabled").addClass(U+"-state-hover")},function(){aN.removeClass(U+"-state-hover").removeClass(U+"-state-down")}).appendTo(z("<td/>").appendTo(aH));if(aI){aI.addClass(U+"-no-right")}else{aN.addClass(U+"-corner-left")}aI=aN}}}});if(aI){aI.addClass(U+"-corner-right")}});return z("<table/>").append(aH)}}var af=false,Z=0;function ae(){if(!af){af=true;au.css({overflow:"hidden",height:av})}}function am(){if(af){au.css({overflow:"visible",height:""});if(z.browser.msie&&(z.browser.version=="6.0"||z.browser.version=="7.0")){au[0].clientHeight;au.hide().show()}af=false}}z(window).resize(function(){if(!af){if(an.date){var aG=++Z;setTimeout(function(){if(aG==Z&&!af){var aH=ab.width();if(aH!=aA){aA=aH;ak(true);an.trigger("windowResize",ao)}}},200)}else{aE()}}});aF(X.defaultView);if(z.browser.msie&&!z("body").width()){setTimeout(function(){aE();au.hide().show();an.rerenderEvents()},0)}});return this};var K=0;function y(V,U){V._id=V._id||(V.id==l?"_fc"+K++:V.id+"");if(V.date){if(!V.start){V.start=V.date}delete V.date}V._start=L(V.start=f(V.start));V.end=f(V.end);if(V.end&&V.end<=V.start){V.end=null}V._end=V.end?L(V.end):null;if(V.allDay==l){V.allDay=U.allDayDefault}if(V.className){if(typeof V.className=="string"){V.className=V.className.split(/\s+/)}}else{V.className=[]}}I({weekMode:"fixed"});e.month=function(V,U){return new A(V,U,{render:function(Y,ac,ae,ab){if(ac){n(Y,ac);Y.setDate(1)}var W=this.start=L(Y,true);W.setDate(1);this.end=n(L(W),1);var ad=this.visStart=L(W),Z=this.visEnd=L(this.end),X=U.weekends?0:1;if(X){S(ad);S(Z,-1,true)}v(ad,-((ad.getDay()-Math.max(U.firstDay,X)+7)%7));v(Z,(7-Z.getDay()+Math.max(U.firstDay,X))%7);var aa=Math.round((Z-ad)/(N*7));if(U.weekMode=="fixed"){v(Z,(6-aa)*7);aa=6}this.title=J(W,this.option("titleFormat"),U);this.renderGrid(aa,U.weekends?7:5,this.option("columnFormat"),true,ae,ab)}})};e.basicWeek=function(V,U){return new A(V,U,{render:function(Z,ab,W,aa){if(ab){v(Z,ab*7)}var Y=this.visStart=L(this.start=v(L(Z),-((Z.getDay()-U.firstDay+7)%7))),X=this.visEnd=L(this.end=v(L(Y),7));if(!U.weekends){S(Y);S(X,-1,true)}this.title=r(Y,v(L(X),-1),this.option("titleFormat"),U);this.renderGrid(1,U.weekends?7:5,this.option("columnFormat"),false,W,aa)}})};e.basicDay=function(V,U){return new A(V,U,{render:function(X,Z,W,Y){if(Z){v(X,Z);if(!U.weekends){S(X,Z<0?-1:1)}}this.title=J(X,this.option("titleFormat"),U);this.start=this.visStart=L(X,true);this.end=this.visEnd=v(L(this.start),1);this.renderGrid(1,1,this.option("columnFormat"),false,W,Y)}})};var D,p;function A(W,Z,aq){var X,ag,aa,ac,ak,aj,ad,am,ar,ao,V,ae,ah=z.extend(this,k,aq,{renderGrid:al,renderEvents:Y,rerenderEvents:ap,updateSize:an,defaultEventEnd:function(at){return L(at.start)},visEventEnd:function(au){if(au.end){var at=L(au.end);return(au.allDay||at.getHours()||at.getMinutes())?v(at,1):at}else{return v(L(au.start),1)}}});ah.init(W,Z);W.addClass("fc-grid").css("position","relative");if(W.disableSelection){W.disableSelection()}function al(at,az,aw,aC,aE,aB){ad=at;am=az;X=Z.theme?"ui":"fc";aa=Z.weekends?0:1;ag=Z.firstDay;if(ac=Z.isRTL){ak=-1;aj=am-1}else{ak=1;aj=0}var ax=ah.start.getMonth(),aA=t(new Date()),aG,av,au,ay=L(ah.visStart);if(!V){var aF=z("<table/>").appendTo(W);aG="<thead><tr>";for(av=0;av<am;av++){aG+="<th class='fc-"+O[ay.getDay()]+" "+X+"-state-default"+(av==aj?" fc-leftmost":"")+"'>"+J(ay,aw,Z)+"</th>";v(ay,1);if(aa){S(ay)}}ao=z(aG+"</tr></thead>").appendTo(aF);aG="<tbody>";ay=L(ah.visStart);for(av=0;av<ad;av++){aG+="<tr class='fc-week"+av+"'>";for(au=0;au<am;au++){aG+="<td class='fc-"+O[ay.getDay()]+" "+X+"-state-default fc-day"+(av*am+au)+(au==aj?" fc-leftmost":"")+(ad>1&&ay.getMonth()!=ax?" fc-other-month":"")+(+ay==+aA?" fc-today "+X+"-state-highlight":" fc-not-today")+"'>"+(aC?"<div class='fc-day-number'>"+ay.getDate()+"</div>":"")+"<div class='fc-day-content'><div>&nbsp;</div></div></td>";v(ay,1);if(aa){S(ay)}}aG+="</tr>"}V=z(aG+"</tbody>").appendTo(aF);V.find("td").click(U)}else{ah.clearEvents();var aD=V.find("tr").length;if(ad<aD){V.find("tr:gt("+(ad-1)+")").remove()}else{if(ad>aD){aG="";for(av=aD;av<ad;av++){aG+="<tr class='fc-week"+av+"'>";for(au=0;au<am;au++){aG+="<td class='fc-"+O[ay.getDay()]+" "+X+"-state-default fc-new fc-day"+(av*am+au)+(au==aj?" fc-leftmost":"")+"'>"+(aC?"<div class='fc-day-number'></div>":"")+"<div class='fc-day-content'><div>&nbsp;</div></div></td>";v(ay,1);if(aa){S(ay)}}aG+="</tr>"}V.append(aG)}}V.find("td.fc-new").removeClass("fc-new").click(U);ay=L(ah.visStart);V.find("td").each(function(){var aH=z(this);if(ad>1){if(ay.getMonth()==ax){aH.removeClass("fc-other-month")}else{aH.addClass("fc-other-month")}}if(+ay==+aA){aH.removeClass("fc-not-today").addClass("fc-today").addClass(X+"-state-highlight")}else{aH.addClass("fc-not-today").removeClass("fc-today").removeClass(X+"-state-highlight")}aH.find("div.fc-day-number").text(ay.getDate());v(ay,1);if(aa){S(ay)}});if(ad==1){ay=L(ah.visStart);ao.find("th").each(function(){z(this).text(J(ay,aw,Z));this.className=this.className.replace(/^fc-\w+(?= )/,"fc-"+O[ay.getDay()]);v(ay,1);if(aa){S(ay)}});ay=L(ah.visStart);V.find("td").each(function(){this.className=this.className.replace(/^fc-\w+(?= )/,"fc-"+O[ay.getDay()]);v(ay,1);if(aa){S(ay)}})}}an(aE);aB(Y)}function U(au){var av=parseInt(this.className.match(/fc\-day(\d+)/)[1]),at=v(L(ah.visStart),Math.floor(av/am)*7+av%am);ah.trigger("dayClick",this,at,true,au)}function an(at){var au=V.find("tr td:first-child"),az=at-ao.height(),ax,aw;if(Z.weekMode=="variable"){ax=aw=Math.floor(az/(ad==1?2:6))}else{ax=Math.floor(az/ad);aw=az-ax*(ad-1)}C(V);if(D==l){var av=V.find("tr:first"),ay=av.find("td:first");ay.height(ax);D=ax!=ay.height()}if(D){au.slice(0,-1).height(ax);au.slice(-1).height(aw)}else{h(au.slice(0,-1),ax);h(au.slice(-1),aw)}P(ao.find("th").slice(0,-1),ar=Math.floor(W.width()/am))}function Y(at){ah.reportEvents(at);ab(ae=af(at))}function ap(at){ah.clearEvents();if(at){ab(ae)}else{Y(ah.cachedEvents)}}function af(au){var ax=L(ah.visStart),av=v(L(ax),am),aw=[],at=0;for(;at<ad;at++){aw.push(E(ah.sliceSegs(au,ax,av)));v(ax,7);v(av,7)}return aw}function ab(aE){var aJ,aL=aE.length,az,av,aA,aP,aB,aD,aH,aC,aN,aG,aM,aI,aw,at,aF,ax,aO,aK,au,ay;for(aJ=0;aJ<aL;aJ++){az=aE[aJ];av=V.find("tr:eq("+aJ+")");aA=av.find("td:first");aP=aA.find("div.fc-day-content div").css("position","relative");aB=H(aP,aA,av,V).top;aD=0;for(aH=0;aH<az.length;aH++){aC=az[aH];aN=0;for(aG=0;aG<aC.length;aG++){aM=aC[aG];aI=aM.event;aw="fc-event fc-event-hori ";at=aM.isStart?av.find("td:eq("+((aM.start.getDay()-Math.max(ag,aa)+am)%am)+") div div"):V;aF=aM.isEnd?av.find("td:eq("+((aM.end.getDay()-Math.max(ag,aa)+am-1)%am)+") div div"):V;if(ac){ax=aF.position().left;aO=at.position().left+at.width();if(aM.isStart){aw+="fc-corner-right "}if(aM.isEnd){aw+="fc-corner-left "}}else{ax=at.position().left;aO=aF.position().left+aF.width();if(aM.isStart){aw+="fc-corner-left "}if(aM.isEnd){aw+="fc-corner-right "}}aK=z("<div class='"+aw+aI.className.join(" ")+"'/>").append(au=z("<a/>").append(aI.allDay||!aM.isStart?null:z("<span class='fc-event-time'/>").html(r(aI.start,aI.end,ah.option("timeFormat"),Z))).append(z("<span class='fc-event-title'/>").text(aI.title)));if(aI.url){au.attr("href",aI.url)}ay=ah.trigger("eventRender",aI,aI,aK);if(ay!==false){if(ay&&typeof ay!="boolean"){aK=z(ay)}aK.css({position:"absolute",top:aB,left:ax+(p||0),zIndex:8}).appendTo(W);P(aK,aO-ax,true);if(ac&&p==l){p=ax-aK.position().left;if(p){aK.css("left",ax+p)}}ah.eventElementHandlers(aI,aK);if(aI.editable||aI.editable==l&&Z.editable){ai(aI,aK);if(aM.isEnd){ah.resizableDayEvent(aI,aK,ar)}}ah.reportEventElement(aI,aK);ah.trigger("eventAfterRender",aI,aI,aK);aN=Math.max(aN,aK.outerHeight(true))}}aD+=aN;aB+=aN}aP.height(aD)}}function ai(av,au){if(!Z.disableDragging&&au.draggable){var at;au.draggable({zIndex:9,delay:50,opacity:ah.option("dragOpacity"),revertDuration:Z.dragRevertDuration,start:function(ax,ay){ah.hideEvents(av,au);ah.trigger("eventDragStart",au,av,ax,ay);at=new d(function(az){au.draggable("option","revert",!az||!az.rowDelta&&!az.colDelta);if(az){ah.showOverlay(az)}else{ah.hideOverlay()}});V.find("tr").each(function(){at.row(this)});var aw=V.find("tr:first td");if(ac){aw=z(aw.get().reverse())}aw.each(function(){at.col(this)});at.mouse(ax.pageX,ax.pageY)},drag:function(aw){at.mouse(aw.pageX,aw.pageY)},stop:function(ax,ay){ah.hideOverlay();ah.trigger("eventDragStop",au,av,ax,ay);var aw=at.cell;if(!aw||!aw.rowDelta&&!aw.colDelta){if(z.browser.msie){au.css("filter","")}ah.showEvents(av,au)}else{au.find("a").removeAttr("href");ah.eventDrop(this,av,aw.rowDelta*7+aw.colDelta*ak,0,av.allDay,ax,ay)}}})}}}I({allDaySlot:true,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5},minTime:0,maxTime:24});e.agendaWeek=function(V,U){return new s(V,U,{render:function(Z,ab,W,aa){if(ab){v(Z,ab*7)}var Y=this.visStart=L(this.start=v(L(Z),-((Z.getDay()-U.firstDay+7)%7))),X=this.visEnd=L(this.end=v(L(Y),7));if(!U.weekends){S(Y);S(X,-1,true)}this.title=r(Y,v(L(X),-1),this.option("titleFormat"),U);this.renderAgenda(U.weekends?7:5,this.option("columnFormat"),W,aa)}})};e.agendaDay=function(V,U){return new s(V,U,{render:function(X,Z,W,Y){if(Z){v(X,Z);if(!U.weekends){S(X,Z<0?-1:1)}}this.title=J(X,this.option("titleFormat"),U);this.start=this.visStart=L(X,true);this.end=this.visEnd=v(L(this.start),1);this.renderAgenda(1,this.option("columnFormat"),W,Y)}})};function s(ai,at,ay){var ah,ar,aa,ak,aD,ac,Z,au,an,U,ao,ae,aF,ap,am,aA,aE,aC,ax,W,X=z.extend(this,k,ay,{renderAgenda:av,renderEvents:ab,rerenderEvents:Y,updateSize:al,shown:af,defaultEventEnd:function(aG){var aH=L(aG.start);if(aG.allDay){return aH}return m(aH,at.defaultEventMinutes)},visEventEnd:function(aH){if(aH.allDay){if(aH.end){var aG=L(aH.end);return(aH.allDay||aG.getHours()||aG.getMinutes())?v(aG,1):aG}else{return v(L(aH.start),1)}}if(aH.end){return L(aH.end)}else{return m(L(aH.start),at.defaultEventMinutes)}}});X.init(ai,at);ai.addClass("fc-agenda").css("position","relative");if(ai.disableSelection){ai.disableSelection()}function av(aN,aJ,aQ,aP){ac=aN;aF=at.theme?"ui":"fc";am=at.weekends?0:1;ap=at.firstDay;if(aA=at.isRTL){aE=-1;aC=ac-1}else{aE=1;aC=0}ax=a(at.minTime);W=a(at.maxTime);var aG=aA?v(L(X.visEnd),-1):L(X.visStart),aL=L(aG),aO=t(new Date());if(!ah){var aI,aH,aM=at.slotMinutes%15==0,aR="<div class='fc-agenda-head' style='position:relative;z-index:4'><table style='width:100%'><tr class='fc-first"+(at.allDaySlot?"":" fc-last")+"'><th class='fc-leftmost "+aF+"-state-default'>&nbsp;</th>";for(aI=0;aI<ac;aI++){aR+="<th class='fc-"+O[aL.getDay()]+" "+aF+"-state-default'>"+J(aL,aJ,at)+"</th>";v(aL,aE);if(am){S(aL,aE)}}aR+="<th class='"+aF+"-state-default'>&nbsp;</th></tr>";if(at.allDaySlot){aR+="<tr class='fc-all-day'><th class='fc-axis fc-leftmost "+aF+"-state-default'>"+at.allDayText+"</th><td colspan='"+ac+"' class='"+aF+"-state-default'><div class='fc-day-content'><div>&nbsp;</div></div></td><th class='"+aF+"-state-default'>&nbsp;</th></tr><tr class='fc-divider fc-last'><th colspan='"+(ac+2)+"' class='"+aF+"-state-default fc-leftmost'><div/></th></tr>"}aR+="</table></div>";ah=z(aR).appendTo(ai);ah.find("td").click(V);aL=c();var aK=m(L(aL),W);m(aL,ax);aR="<table>";for(aI=0;aL<aK;aI++){aH=aL.getMinutes();aR+="<tr class='"+(aI==0?"fc-first":(aH==0?"":"fc-minor"))+"'><th class='fc-axis fc-leftmost "+aF+"-state-default'>"+((!aM||aH==0)?J(aL,at.axisFormat):"&nbsp;")+"</th><td class='fc-slot"+aI+" "+aF+"-state-default'><div>&nbsp;</div></td></tr>";m(aL,at.slotMinutes)}aR+="</table>";ar=z("<div class='fc-agenda-body' style='position:relative;z-index:2;overflow:auto'/>").append(aa=z("<div style='position:relative;overflow:hidden'>").append(ak=z(aR))).appendTo(ai);ar.find("td").click(V);aL=L(aG);aR="<div class='fc-agenda-bg' style='position:absolute;z-index:1'><table style='width:100%;height:100%'><tr class='fc-first'>";for(aI=0;aI<ac;aI++){aR+="<td class='fc-"+O[aL.getDay()]+" "+aF+"-state-default "+(aI==0?"fc-leftmost ":"")+(+aL==+aO?aF+"-state-highlight fc-today":"fc-not-today")+"'><div class='fc-day-content'><div>&nbsp;</div></div></td>";v(aL,aE);if(am){S(aL,aE)}}aR+="</tr></table></div>";aD=z(aR).appendTo(ai)}else{X.clearEvents();ah.find("tr:first th").slice(1,-1).each(function(){z(this).text(J(aL,aJ,at));this.className=this.className.replace(/^fc-\w+(?= )/,"fc-"+O[aL.getDay()]);v(aL,aE);if(am){S(aL,aE)}});aL=L(aG);aD.find("td").each(function(){this.className=this.className.replace(/^fc-\w+(?= )/,"fc-"+O[aL.getDay()]);if(+aL==+aO){z(this).removeClass("fc-not-today").addClass("fc-today").addClass(aF+"-state-highlight")}else{z(this).addClass("fc-not-today").removeClass("fc-today").removeClass(aF+"-state-highlight")}v(aL,aE);if(am){S(aL,aE)}})}al(aQ);af();aP(ab)}function af(){var aI=c(),aG=L(aI);aG.setHours(at.firstHour);var aH=function(){ar.scrollTop(ad(aI,aG)+1)};if(z.browser.opera){setTimeout(aH,0)}else{aH()}}function al(aG){ae=aG;ak.width("");ar.height(aG-ah.height());ar[0].clientWidth;var aJ=ah.find("tr:first th"),aI=aD.find("td"),aH=ar[0].clientWidth;ak.width(aH);Z=0;P(ah.find("tr:lt(2) th:first").add(ar.find("tr:first th")).width("").each(function(){Z=Math.max(Z,z(this).outerWidth())}),Z);au=Math.floor((aH-Z)/ac);P(aI.slice(0,-1),au);P(aJ.slice(1,-2),au);P(aJ.slice(-2,-1),aH-Z-au*(ac-1));aD.css({top:ah.find("tr").height(),left:Z,width:aH-Z,height:aG});an=ar.find("tr:first div").height()+1}function V(aK){var aI=Math.floor((aK.pageX-aD.offset().left)/au),aH=v(L(X.visStart),aC+aE*aI),aL=this.className.match(/fc-slot(\d+)/);if(aL){var aJ=parseInt(aL[1])*at.slotMinutes,aG=Math.floor(aJ/60);aH.setHours(aG);aH.setMinutes(aJ%60+ax);X.trigger("dayClick",this,aH,false,aK)}else{X.trigger("dayClick",this,aH,true,aK)}}function ab(aJ){X.reportEvents(aJ);var aI,aH=aJ.length,aK=[],aG=[];for(aI=0;aI<aH;aI++){if(aJ[aI].allDay){aK.push(aJ[aI])}else{aG.push(aJ[aI])}}az(U=E(X.sliceSegs(aK,X.visStart,X.visEnd)));ag(ao=aq(aG))}function Y(aG){X.clearEvents();if(aG){az(U);ag(ao)}else{ab(X.cachedEvents)}}function aq(aI){var aK=m(L(X.visStart),ax),aJ,aG=[],aH=0;for(;aH<ac;aH++){aJ=E(X.sliceSegs(aI,aK,m(L(aK),W-ax)));G(aJ);aG.push(aJ);v(aK,1,true)}return aG}function az(aQ){if(at.allDaySlot){var aP=ah.find("td"),a1=aP.find("div div"),aH=aP.parent(),aR=H(a1,aP,aH,aH.parent()).top,aS=0,aV,aX=aQ.length,aG,aZ,aT,aY,aU,aI,aJ,a2,aM,aO,aL,a0,aW,aK,aN;for(aV=0;aV<aX;aV++){aG=aQ[aV];aZ=0;for(aT=0;aT<aG.length;aT++){aY=aG[aT];aU=aY.event;aI="fc-event fc-event-hori ";if(aA){aJ=aY.end.getDay()-1;a2=aY.isEnd;aM=aY.start.getDay();aO=aY.isStart}else{aJ=aY.start.getDay();a2=aY.isStart;aM=aY.end.getDay()-1;aO=aY.isEnd}if(a2){aI+="fc-corner-left ";aL=aD.find("td:eq("+(((aJ-Math.max(ap,am)+ac)%ac)*aE+aC)+") div div").position().left+Z}else{aL=Z}if(aO){aI+="fc-corner-right ";a0=aD.find("td:eq("+(((aM-Math.max(ap,am)+ac)%ac)*aE+aC)+") div div");a0=a0.position().left+a0.width()+Z}else{a0=Z+aD.width()}aW=z("<div class='"+aI+aU.className.join(" ")+"'/>").append(aK=z("<a/>").append(z("<span class='fc-event-title' />").text(aU.title)));if(aU.url){aK.attr("href",aU.url)}aN=X.trigger("eventRender",aU,aU,aW);if(aN!==false){if(aN&&typeof aN!="boolean"){aW=z(aN)}aW.css({position:"absolute",top:aR,left:aL,zIndex:8}).appendTo(ah);P(aW,a0-aL,true);X.eventElementHandlers(aU,aW);if(aU.editable||aU.editable==l&&at.editable){aj(aU,aW,aY.isStart);if(aY.isEnd){X.resizableDayEvent(aU,aW,au)}}X.reportEventElement(aU,aW);X.trigger("eventAfterRender",aU,aU,aW);aZ=Math.max(aZ,aW.outerHeight(true))}}aR+=aZ;aS+=aZ}a1.height(aS);al(ae)}}function ag(aV){var aO,aW=aV.length,aM,aK,aG,aR,aZ,aQ,aX,aS,aP,a0,aU,aL,aH,aY,aJ,aI,aT,aN;for(aO=0;aO<aW;aO++){aM=aV[aO];for(aK=0;aK<aM.length;aK++){aG=aM[aK];for(aR=0;aR<aG.length;aR++){aZ=aG[aR];aQ=aZ.forward||0;aX=aZ.event;aS=ad(aZ.start,aZ.start);aP=ad(aZ.start,aZ.end);a0=aD.find("td:eq("+(aO*aE+aC)+") div div");availWidth=a0.width();availWidth=Math.min(availWidth-6,availWidth*0.95);if(aK){aU=availWidth/(aK+aQ+1)}else{if(aQ){aU=((availWidth/(aQ+1))-(12/2))*2}else{aU=availWidth}}aL=Z+a0.position().left+(availWidth/(aK+aQ+1)*aK)*aE+(aA?availWidth-aU:0);aH="fc-event fc-event-vert ";if(aZ.isStart){aH+="fc-corner-top "}if(aZ.isEnd){aH+="fc-corner-bottom "}aY=z("<div class='"+aH+aX.className.join(" ")+"' />").append(aJ=z("<a><span class='fc-event-bg'/></a>").append(aI=z("<span class='fc-event-time'/>").text(r(aX.start,aX.end,X.option("timeFormat")))).append(aT=z("<span class='fc-event-title'/>").text(aX.title)));if(aX.url){aJ.attr("href",aX.url)}aN=X.trigger("eventRender",aX,aX,aY);if(aN!==false){if(aN&&typeof aN!="boolean"){aY=z(aN)}aY.css({position:"absolute",zIndex:8,top:aS,left:aL}).appendTo(aa);P(aY,aU,true);h(aY,aP-aS,true);if(aY.height()-aT.position().top<10){aI.text(J(aX.start,X.option("timeFormat"))+" - "+aX.title);aT.remove()}X.eventElementHandlers(aX,aY);if(aX.editable||aX.editable==l&&at.editable){aw(aX,aY,aI);if(aZ.isEnd){aB(aX,aY,aI)}}}X.reportEventElement(aX,aY);X.trigger("eventAfterRender",aX,aX,aY)}}}}function aj(aL,aI,aG){if(!at.disableDragging&&aI.draggable){var aK,aN,aJ,aM=true,aH;aI.draggable({zIndex:9,opacity:X.option("dragOpacity","month"),revertDuration:at.dragRevertDuration,start:function(aO,aP){X.hideEvents(aL,aI);X.trigger("eventDragStart",aI,aL,aO,aP);aK=aI.position();aN=aI.width();aJ=function(){if(!aM){aI.width(aN).height("").draggable("option","grid",null);aM=true}};aH=new d(function(aQ){aI.draggable("option","revert",!aQ||!aQ.rowDelta&&!aQ.colDelta);if(aQ){if(!aQ.row){aJ();X.showOverlay(aQ)}else{if(aG&&aM){h(aI.width(au-10),an*Math.round((aL.end?((aL.end-aL.start)/Q):at.defaultEventMinutes)/at.slotMinutes));aI.draggable("option","grid",[au,1]);aM=false}X.hideOverlay()}}else{X.hideOverlay()}});aH.row(ah.find("td"));aD.find("td").each(function(){aH.col(this)});aH.row(ar);aH.mouse(aO.pageX,aO.pageY)},drag:function(aO,aP){aH.mouse(aO.pageX,aO.pageY)},stop:function(aQ,aR){X.hideOverlay();X.trigger("eventDragStop",aI,aL,aQ,aR);var aO=aH.cell,aP=aE*(aM?(aO?aO.colDelta:0):Math.floor((aR.position.left-aK.left)/au));if(!aO||!aP&&!aO.rowDelta){aJ();if(z.browser.msie){aI.css("filter","")}X.showEvents(aL,aI)}else{aI.find("a").removeAttr("href");X.eventDrop(this,aL,aP,aM?0:Math.round((aI.offset().top-aa.offset().top)/an)*at.slotMinutes+ax-(aL.start.getHours()*60+aL.start.getMinutes()),aM,aQ,aR)}}})}}function aw(aG,aK,aM){if(!at.disableDragging&&aK.draggable){var aH,aI,aJ,aN,aO=false,aL;aK.draggable({zIndex:9,scroll:false,grid:[au,an],axis:ac==1?"y":false,opacity:X.option("dragOpacity"),revertDuration:at.dragRevertDuration,start:function(aP,aQ){X.hideEvents(aG,aK);X.trigger("eventDragStart",aK,aG,aP,aQ);if(z.browser.msie){aK.find("span.fc-event-bg").hide()}aH=aK.position();aI=function(){if(aO){aM.css("display","");aK.draggable("option","grid",[au,an]);aO=false}};aJ=0;aL=new d(function(aR){aK.draggable("option","revert",!aR);if(aR){if(!aR.row&&at.allDaySlot){if(!aO){aO=true;aM.hide();aK.draggable("option","grid",null)}X.showOverlay(aR)}else{aI();X.hideOverlay()}}else{X.hideOverlay()}});if(at.allDaySlot){aL.row(ah.find("td"))}aD.find("td").each(function(){aL.col(this)});aL.row(ar);aL.mouse(aP.pageX,aP.pageY)},drag:function(aS,aT){aN=Math.round((aT.position.top-aH.top)/an);if(aN!=aJ){if(!aO){var aQ=aN*at.slotMinutes,aP=m(L(aG.start),aQ),aR;if(aG.end){aR=m(L(aG.end),aQ)}aM.text(r(aP,aR,X.option("timeFormat")))}aJ=aN}aL.mouse(aS.pageX,aS.pageY)},stop:function(aR,aS){X.hideOverlay();X.trigger("eventDragStop",aK,aG,aR,aS);var aP=aL.cell,aQ=aE*(aO?(aP?aP.colDelta:0):Math.floor((aS.position.left-aH.left)/au));if(!aP||!aN&&!aQ){aI();if(z.browser.msie){aK.css("filter","").find("span.fc-event-bg").css("display","")}aK.css(aH);X.showEvents(aG,aK)}else{X.eventDrop(this,aG,aQ,aO?0:aN*at.slotMinutes,aO,aR,aS)}}})}}function aB(aI,aH,aJ){if(!at.disableResizing&&aH.resizable){var aK,aG;aH.resizable({handles:"s",grid:an,start:function(aL,aM){aK=aG=0;X.hideEvents(aI,aH);if(z.browser.msie&&z.browser.version=="6.0"){aH.css("overflow","hidden")}aH.css("z-index",9);X.trigger("eventResizeStart",this,aI,aL,aM)},resize:function(aL,aM){aK=Math.round((Math.max(an,aH.height())-aM.originalSize.height)/an);if(aK!=aG){aJ.text(r(aI.start,(!aK&&!aI.end)?null:m(X.eventEnd(aI),at.slotMinutes*aK),X.option("timeFormat")));aG=aK}},stop:function(aL,aM){X.trigger("eventResizeStop",this,aI,aL,aM);if(aK){X.eventResize(this,aI,0,at.slotMinutes*aK,aL,aM)}else{aH.css("z-index",8);X.showEvents(aI,aH)}}}).find("div.ui-resizable-s").text("=")}}function ad(aH,aM){aH=L(aH,true);if(aM<m(L(aH),ax)){return 0}if(aM>=m(L(aH),W)){return aa.height()}var aG=at.slotMinutes,aJ=aM.getHours()*60+aM.getMinutes()-ax,aI=Math.floor(aJ/aG),aL=ar.find("tr:eq("+aI+")"),aN=aL.find("td"),aK=aN.find("div");return Math.max(0,Math.round(H(aK,aN,aL,aL.parent()).top-1+an*((aJ%aG)/aG)))}}function G(Y){var W,V,U,aa,Z,X;for(W=Y.length-1;W>0;W--){aa=Y[W];for(V=0;V<aa.length;V++){Z=aa[V];for(U=0;U<Y[W-1].length;U++){X=Y[W-1][U];if(u(Z,X)){X.forward=Math.max(X.forward||0,(Z.forward||0)+1)}}}}}var k={init:function(V,U){this.element=V;this.options=U;this.cachedEvents=[];this.eventsByID={};this.eventElements=[];this.eventElementsByID={}},trigger:function(U,V){if(this.options[U]){return this.options[U].apply(V||this,Array.prototype.slice.call(arguments,2).concat([this]))}},eventEnd:function(U){return U.end?L(U.end):this.defaultEventEnd(U)},reportEvents:function(X){var W,U=X.length,Y,V=this.eventsByID={},Z=this.cachedEvents=[];for(W=0;W<U;W++){Y=X[W];if(V[Y._id]){V[Y._id].push(Y)}else{V[Y._id]=[Y]}Z.push(Y)}},reportEventElement:function(V,U){this.eventElements.push(U);var W=this.eventElementsByID;if(W[V._id]){W[V._id].push(U)}else{W[V._id]=[U]}},clearEvents:function(){z.each(this.eventElements,function(){this.remove()});this.eventElements=[];this.eventElementsByID={}},showEvents:function(V,U){this._eee(V,U,"show")},hideEvents:function(V,U){this._eee(V,U,"hide")},_eee:function(X,W,Z){var Y=this.eventElementsByID[X._id],V,U=Y.length;for(V=0;V<U;V++){if(Y[V]!=W){Y[V][Z]()}}},eventDrop:function(W,U,V,X,ac,Z,Y){var aa=this,ab=U.allDay;aa.moveEvents(aa.eventsByID[U._id],V,X,ac);aa.trigger("eventDrop",W,U,V,X,ac,function(){aa.moveEvents(aa.eventsByID[U._id],-V,-X,ab);aa.rerenderEvents()},Z,Y);aa.eventsChanged=true;aa.rerenderEvents()},eventResize:function(aa,Y,W,V,X,Z){var U=this;U.elongateEvents(U.eventsByID[Y._id],W,V);U.trigger("eventResize",aa,Y,W,V,function(){U.elongateEvents(U.eventsByID[Y._id],-W,-V);U.rerenderEvents()},X,Z);U.eventsChanged=true;U.rerenderEvents()},moveEvents:function(Y,W,V,Z){V=V||0;for(var aa,U=Y.length,X=0;X<U;X++){aa=Y[X];if(Z!=l){aa.allDay=Z}m(v(aa.start,W,true),V);if(aa.end){aa.end=m(v(aa.end,W,true),V)}y(aa,this.options)}},elongateEvents:function(Y,W,V){V=V||0;for(var Z,U=Y.length,X=0;X<U;X++){Z=Y[X];Z.end=m(v(this.eventEnd(Z),W,true),V);y(Z,this.options)}},showOverlay:function(U){if(!this.dayOverlay){this.dayOverlay=z("<div class='fc-cell-overlay' style='position:absolute;z-index:3;display:none'/>").appendTo(this.element)}var V=this.element.offset();this.dayOverlay.css({top:U.top-V.top,left:U.left-V.left,width:U.width,height:U.height}).show()},hideOverlay:function(){if(this.dayOverlay){this.dayOverlay.hide()}},resizableDayEvent:function(X,V,W){var U=this;if(!U.options.disableResizing&&V.resizable){V.resizable({handles:U.options.isRTL?"w":"e",grid:W,minWidth:W/2,containment:U.element.parent().parent(),start:function(Y,Z){V.css("z-index",9);U.hideEvents(X,V);U.trigger("eventResizeStart",this,X,Y,Z)},stop:function(Z,aa){U.trigger("eventResizeStop",this,X,Z,aa);var Y=Math.round((V.width()-aa.originalSize.width)/W);if(Y){U.eventResize(this,X,Y,0,Z,aa)}else{V.css("z-index",8);U.showEvents(X,V)}}})}},eventElementHandlers:function(W,V){var U=this;V.click(function(X){if(!V.hasClass("ui-draggable-dragging")&&!V.hasClass("ui-resizable-resizing")){return U.trigger("eventClick",this,W,X)}}).hover(function(X){U.trigger("eventMouseover",this,W,X)},function(X){U.trigger("eventMouseout",this,W,X)})},option:function(V,W){var U=this.options[V];if(typeof U=="object"){return i(U,W||this.name)}return U},sliceSegs:function(af,W,Z){var X=[],aa,ac=af.length,V,ad,ab,ae,ag,U,Y;for(aa=0;aa<ac;aa++){V=af[aa];ad=V.start;ab=this.visEventEnd(V);if(ab>W&&ad<Z){if(ad<W){ae=L(W);U=false}else{ae=ad;U=true}if(ab>Z){ag=L(Z);Y=false}else{ag=ab;Y=true}X.push({event:V,start:ae,end:ag,isStart:U,isEnd:Y,msLength:ag-ae})}}return X.sort(w)}};function E(W){var aa=[],Z,U=W.length,V,Y,ab,X;for(Z=0;Z<U;Z++){V=W[Z];Y=0;while(true){ab=false;if(aa[Y]){for(X=0;X<aa[Y].length;X++){if(u(aa[Y][X],V)){ab=true;break}}}if(ab){Y++}else{break}}if(aa[Y]){aa[Y].push(V)}else{aa[Y]=[V]}}return aa}function w(V,U){return(U.msLength-V.msLength)*100+(V.event.start-U.event.start)}function u(V,U){return V.end>U.start&&V.start<U.end}var N=86400000,o=3600000,Q=60000;function R(V,W,U){V.setFullYear(V.getFullYear()+W);if(!U){t(V)}return V}function n(X,Y,W){if(+X){var U=X.getMonth()+Y,V=L(X);V.setDate(1);V.setMonth(U);X.setMonth(U);if(!W){t(X)}while(X.getMonth()!=V.getMonth()){X.setDate(X.getDate()+(X<V?1:-1))}}return X}function v(X,Y,W){if(+X){var U=X.getDate()+Y,V=L(X);V.setHours(12);V.setDate(U);X.setDate(U);if(!W){t(X)}while(X.getDate()!=V.getDate()){X.setTime(+X+(X<V?1:-1)*o)}}return X}F.addDays=v;function m(U,V){U.setMinutes(U.getMinutes()+V);return U}function t(U){U.setHours(0);U.setMinutes(0);U.setSeconds(0);U.setMilliseconds(0);return U}function L(U,V){if(V){return t(new Date(+U))}return new Date(+U)}function c(){var U=0,V;do{V=new Date(1970,U++,1)}while(V.getHours()!=0);return V}function S(U,V,W){V=V||1;while(U.getDay()==0||(W&&U.getDay()==1||!W&&U.getDay()==6)){v(U,V)}return U}var f=F.parseDate=function(U){if(typeof U=="object"){return U}if(typeof U=="number"){return new Date(U*1000)}if(typeof U=="string"){if(U.match(/^\d+$/)){return new Date(parseInt(U)*1000)}return j(U,true)||new Date(U)||null}return null};var j=F.parseISO8601=function(W,U){var Y=W.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?$/);if(!Y){return null}var X=0;var V=new Date(Y[1],0,1);if(Y[3]){V.setMonth(Y[3]-1)}if(Y[5]){V.setDate(Y[5])}if(Y[7]){V.setHours(Y[7])}if(Y[8]){V.setMinutes(Y[8])}if(Y[10]){V.setSeconds(Y[10])}if(Y[12]){V.setMilliseconds(Number("0."+Y[12])*1000)}if(!U){if(Y[14]){X=(Number(Y[16])*60)+Number(Y[17]);X*=((Y[15]=="-")?1:-1)}X-=V.getTimezoneOffset()}return new Date(Number(V)+(X*60*1000))};var a=F.parseTime=function(W){if(typeof W=="number"){return W*60}if(typeof W=="object"){return W.getHours()*60+W.getMinutes()}var U=W.match(/(\d+)(?::(\d+))?\s*(\w+)?/);if(U){var V=parseInt(U[1]);if(U[3]){V%=12;if(U[3].toLowerCase().charAt(0)=="p"){V+=12}}return V*60+(U[2]?parseInt(U[2]):0)}};var J=F.formatDate=function(V,W,U){return r(V,null,W,U)};var r=F.formatDates=function(ag,af,ae,ah){ah=ah||B;var V=ag,X=af,Y,Z=ae.length,ab,W,ad,aa="";for(Y=0;Y<Z;Y++){ab=ae.charAt(Y);if(ab=="'"){for(W=Y+1;W<Z;W++){if(ae.charAt(W)=="'"){if(V){if(W==Y+1){aa+="'"}else{aa+=ae.substring(Y+1,W)}Y=W}break}}}else{if(ab=="("){for(W=Y+1;W<Z;W++){if(ae.charAt(W)==")"){var U=J(V,ae.substring(Y+1,W),ah);if(parseInt(U.replace(/\D/,""))){aa+=U}Y=W;break}}}else{if(ab=="["){for(W=Y+1;W<Z;W++){if(ae.charAt(W)=="]"){var ac=ae.substring(Y+1,W);var U=J(V,ac,ah);if(U!=J(X,ac,ah)){aa+=U}Y=W;break}}}else{if(ab=="{"){V=af;X=ag}else{if(ab=="}"){V=ag;X=af}else{for(W=Z;W>Y;W--){if(ad=q[ae.substring(Y,W)]){if(V){aa+=ad(V,ah)}Y=W-1;break}}if(W==Y){if(V){aa+=ab}}}}}}}}return aa};var q={s:function(U){return U.getSeconds()},ss:function(U){return M(U.getSeconds())},m:function(U){return U.getMinutes()},mm:function(U){return M(U.getMinutes())},h:function(U){return U.getHours()%12||12},hh:function(U){return M(U.getHours()%12||12)},H:function(U){return U.getHours()},HH:function(U){return M(U.getHours())},d:function(U){return U.getDate()},dd:function(U){return M(U.getDate())},ddd:function(V,U){return U.dayNamesShort[V.getDay()]},dddd:function(V,U){return U.dayNames[V.getDay()]},M:function(U){return U.getMonth()+1},MM:function(U){return M(U.getMonth()+1)},MMM:function(V,U){return U.monthNamesShort[V.getMonth()]},MMMM:function(V,U){return U.monthNames[V.getMonth()]},yy:function(U){return(U.getFullYear()+"").substring(2)},yyyy:function(U){return U.getFullYear()},t:function(U){return U.getHours()<12?"a":"p"},tt:function(U){return U.getHours()<12?"am":"pm"},T:function(U){return U.getHours()<12?"A":"P"},TT:function(U){return U.getHours()<12?"AM":"PM"},u:function(U){return J(U,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(V){var U=V.getDate();if(U>10&&U<20){return"th"}return["st","nd","rd"][U%10-1]||"th"}};function P(V,W,U){V.each(function(){var Y=z(this);var X=W-T(Y);if(U){X-=(parseInt(Y.css("margin-left"))||0)+(parseInt(Y.css("margin-right"))||0)}Y.width(X)})}function T(U){return(parseInt(U.css("border-left-width"))||0)+(parseInt(U.css("padding-left"))||0)+(parseInt(U.css("padding-right"))||0)+(parseInt(U.css("border-right-width"))||0)}function h(W,U,V){W.each(function(){var Y=z(this);var X=U-g(Y);if(V){X-=(parseInt(Y.css("margin-top"))||0)+(parseInt(Y.css("margin-bottom"))||0)}Y.height(X)})}function g(U){return(parseInt(U.css("border-top-width"))||0)+(parseInt(U.css("padding-top"))||0)+(parseInt(U.css("padding-bottom"))||0)+(parseInt(U.css("border-bottom-width"))||0)}var x;function C(U){if(x==l){x=U.position().top!=U.find("tr").position().top}}function H(W,Y,X,V){var U=W.position();if(x){U.top+=V.position().top+X.position().top-Y.position().top}return U}function d(W){var ab=[],U=[],aa,Z,X,Y,ac,V;this.row=function(ae,ad){aa=z(ae);ab.push(aa.offset().top+((x&&aa.is("tr"))?aa.parent().position().top:0))};this.col=function(ad){Z=z(ad);U.push(Z.offset().left)};this.mouse=function(ad,ag){if(X==l){ab.push(ab[ab.length-1]+aa.outerHeight());U.push(U[U.length-1]+Z.outerWidth());ac=V=-1}var ae,af;for(ae=0;ae<ab.length&&ag>=ab[ae];ae++){}for(af=0;af<U.length&&ad>=U[af];af++){}ae=ae>=ab.length?-1:ae-1;af=af>=U.length?-1:af-1;if(ae!=ac||af!=V){ac=ae;V=af;if(ae==-1||af==-1){this.cell=null}else{if(X==l){X=ae;Y=af}this.cell={row:ae,col:af,top:ab[ae],left:U[af],width:U[af+1]-U[af],height:ab[ae+1]-ab[ae],isOrig:ae==X&&af==Y,rowDelta:ae-X,colDelta:af-Y}}W(this.cell)}}}var l,O=["sun","mon","tue","wed","thu","fri","sat"];function M(U){return(U<10?"0":"")+U}function i(Y,U){if(Y[U]!=l){return Y[U]}var X=U.split(/(?=[A-Z])/),W=X.length-1,V;for(;W>=0;W--){V=Y[X[W].toLowerCase()];if(V!=l){return V}}return Y[""]}})(jQuery);